{"changed":true,"filter":false,"title":"buildspec.yml","tooltip":"/devopsPro/buildspec.yml","value":"version: 0.2\n\nphases:\n  install:\n    runtime-versions:\n      python: 3.9\n    commands:\n\n  pre_build:\n    commands:\n      - echo \"Checking Python version...\"\n      - python --version\n      \n\nartifacts:\n  base-directory: .\n  files:\n    - '**/*'\n    ","undoManager":{"mark":17,"position":17,"stack":[[{"start":{"row":7,"column":5},"end":{"row":10,"column":39},"action":"remove","lines":[" - echo \"Upgrading pip...\"","      - pip install --upgrade pip","      - echo \"Installing dependencies...\"","      - pip install -r requirements.txt"],"id":80},{"start":{"row":7,"column":4},"end":{"row":7,"column":5},"action":"remove","lines":[" "]},{"start":{"row":7,"column":2},"end":{"row":7,"column":4},"action":"remove","lines":["  "]},{"start":{"row":7,"column":0},"end":{"row":7,"column":2},"action":"remove","lines":["  "]},{"start":{"row":6,"column":13},"end":{"row":7,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":11,"column":24},"end":{"row":12,"column":0},"action":"insert","lines":["",""],"id":81},{"start":{"row":12,"column":0},"end":{"row":12,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":19,"column":0},"end":{"row":19,"column":1},"action":"insert","lines":["e"],"id":82},{"start":{"row":19,"column":1},"end":{"row":19,"column":2},"action":"insert","lines":["n"]},{"start":{"row":19,"column":2},"end":{"row":19,"column":3},"action":"insert","lines":["v"]}],[{"start":{"row":19,"column":3},"end":{"row":19,"column":4},"action":"insert","lines":[":"],"id":83}],[{"start":{"row":19,"column":4},"end":{"row":20,"column":0},"action":"insert","lines":["",""],"id":84}],[{"start":{"row":20,"column":0},"end":{"row":24,"column":40},"action":"insert","lines":["sonar-scanner \\","  -Dsonar.organization=x23244119 \\","  -Dsonar.projectKey=lordjdsama_x23244119April2025 \\","  -Dsonar.sources=. \\","  -Dsonar.host.url=https://sonarcloud.io"],"id":85}],[{"start":{"row":24,"column":40},"end":{"row":25,"column":0},"action":"insert","lines":["",""],"id":86},{"start":{"row":25,"column":0},"end":{"row":25,"column":2},"action":"insert","lines":["  "]},{"start":{"row":25,"column":2},"end":{"row":26,"column":0},"action":"insert","lines":["",""]},{"start":{"row":26,"column":0},"end":{"row":26,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":26,"column":0},"end":{"row":26,"column":2},"action":"remove","lines":["  "],"id":87}],[{"start":{"row":26,"column":0},"end":{"row":53,"column":118},"action":"insert","lines":["env:","    secrets-manager:","        LOGIN: prod/sonar:sonartoken","        HOST: prod/sonar:HOST","        Organization: prod/sonar:Organization","        Project: prod/sonar:Project","phases:","    install:","        runtime-versions:","            java: corretto11","    pre_build:","        commands:","            - apt-get update","            - apt-get install -y jq","            - wget http://www-eu.apache.org/dist/maven/maven-3/3.5.4/binaries/apache-maven-3.5.4-bin.tar.gz","            - tar xzf apache-maven-3.5.4-bin.tar.gz","            - ln -s apache-maven-3.5.4 maven","            - wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.3.0.1492-linux.zip","            - unzip ./sonar-scanner-cli-3.3.0.1492-linux.zip","            - export PATH=$PATH:/sonar-scanner-3.3.0.1492-linux/bin/","    build:","        commands:","            - mvn test     ","            - mvn sonar:sonar -Dsonar.login=$LOGIN -Dsonar.host.url=$HOST -Dsonar.projectKey=$Project -Dsonar.organization=$Organization","            - sleep 5   ","            - curl https://sonarcloud.io/api/qualitygates/project_status?projectKey=$Project >result.json","            - cat result.json","            - if [ $(jq -r '.projectStatus.status' result.json) = ERROR ] ; then $CODEBUILD_BUILD_SUCCEEDING -eq 0 ;fi"],"id":88}],[{"start":{"row":19,"column":0},"end":{"row":19,"column":2},"action":"insert","lines":["# "],"id":89},{"start":{"row":20,"column":0},"end":{"row":20,"column":2},"action":"insert","lines":["# "]},{"start":{"row":21,"column":0},"end":{"row":21,"column":2},"action":"insert","lines":["# "]},{"start":{"row":22,"column":0},"end":{"row":22,"column":2},"action":"insert","lines":["# "]},{"start":{"row":23,"column":0},"end":{"row":23,"column":2},"action":"insert","lines":["# "]},{"start":{"row":24,"column":0},"end":{"row":24,"column":2},"action":"insert","lines":["# "]}],[{"start":{"row":26,"column":0},"end":{"row":53,"column":118},"action":"remove","lines":["env:","    secrets-manager:","        LOGIN: prod/sonar:sonartoken","        HOST: prod/sonar:HOST","        Organization: prod/sonar:Organization","        Project: prod/sonar:Project","phases:","    install:","        runtime-versions:","            java: corretto11","    pre_build:","        commands:","            - apt-get update","            - apt-get install -y jq","            - wget http://www-eu.apache.org/dist/maven/maven-3/3.5.4/binaries/apache-maven-3.5.4-bin.tar.gz","            - tar xzf apache-maven-3.5.4-bin.tar.gz","            - ln -s apache-maven-3.5.4 maven","            - wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.3.0.1492-linux.zip","            - unzip ./sonar-scanner-cli-3.3.0.1492-linux.zip","            - export PATH=$PATH:/sonar-scanner-3.3.0.1492-linux/bin/","    build:","        commands:","            - mvn test     ","            - mvn sonar:sonar -Dsonar.login=$LOGIN -Dsonar.host.url=$HOST -Dsonar.projectKey=$Project -Dsonar.organization=$Organization","            - sleep 5   ","            - curl https://sonarcloud.io/api/qualitygates/project_status?projectKey=$Project >result.json","            - cat result.json","            - if [ $(jq -r '.projectStatus.status' result.json) = ERROR ] ; then $CODEBUILD_BUILD_SUCCEEDING -eq 0 ;fi"],"id":90}],[{"start":{"row":26,"column":0},"end":{"row":53,"column":118},"action":"insert","lines":["env:","    secrets-manager:","        LOGIN: prod/sonar:sonartoken","        HOST: prod/sonar:HOST","        Organization: prod/sonar:Organization","        Project: prod/sonar:Project","phases:","    install:","        runtime-versions:","            java: corretto11","    pre_build:","        commands:","            - apt-get update","            - apt-get install -y jq","            - wget http://www-eu.apache.org/dist/maven/maven-3/3.5.4/binaries/apache-maven-3.5.4-bin.tar.gz","            - tar xzf apache-maven-3.5.4-bin.tar.gz","            - ln -s apache-maven-3.5.4 maven","            - wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.3.0.1492-linux.zip","            - unzip ./sonar-scanner-cli-3.3.0.1492-linux.zip","            - export PATH=$PATH:/sonar-scanner-3.3.0.1492-linux/bin/","    build:","        commands:","            - mvn test     ","            - mvn sonar:sonar -Dsonar.login=$LOGIN -Dsonar.host.url=$HOST -Dsonar.projectKey=$Project -Dsonar.organization=$Organization","            - sleep 5   ","            - curl https://sonarcloud.io/api/qualitygates/project_status?projectKey=$Project >result.json","            - cat result.json","            - if [ $(jq -r '.projectStatus.status' result.json) = ERROR ] ; then $CODEBUILD_BUILD_SUCCEEDING -eq 0 ;fi"],"id":91,"ignore":true}],[{"start":{"row":18,"column":0},"end":{"row":31,"column":17},"action":"remove","lines":["","# env:","# sonar-scanner \\","#   -Dsonar.organization=x23244119 \\","#   -Dsonar.projectKey=lordjdsama_x23244119April2025 \\","#   -Dsonar.sources=. \\","#   -Dsonar.host.url=https://sonarcloud.io","  ","env:","    secrets-manager:","        LOGIN: prod/sonar:sonartoken","        HOST: prod/sonar:HOST","        Organization: prod/sonar:Organization","        Project: "],"id":92}],[{"start":{"row":18,"column":0},"end":{"row":19,"column":0},"action":"insert","lines":["",""],"id":93},{"start":{"row":19,"column":0},"end":{"row":20,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":28,"column":3},"end":{"row":42,"column":118},"action":"remove","lines":["         - apt-get install -y jq","            - wget http://www-eu.apache.org/dist/maven/maven-3/3.5.4/binaries/apache-maven-3.5.4-bin.tar.gz","            - tar xzf apache-maven-3.5.4-bin.tar.gz","            - ln -s apache-maven-3.5.4 maven","            - wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.3.0.1492-linux.zip","            - unzip ./sonar-scanner-cli-3.3.0.1492-linux.zip","            - export PATH=$PATH:/sonar-scanner-3.3.0.1492-linux/bin/","    build:","        commands:","            - mvn test     ","            - mvn sonar:sonar -Dsonar.login=$LOGIN -Dsonar.host.url=$HOST -Dsonar.projectKey=$Project -Dsonar.organization=$Organization","            - sleep 5   ","            - curl https://sonarcloud.io/api/qualitygates/project_status?projectKey=$Project >result.json","            - cat result.json","            - if [ $(jq -r '.projectStatus.status' result.json) = ERROR ] ; then $CODEBUILD_BUILD_SUCCEEDING -eq 0 ;fi"],"id":94}],[{"start":{"row":20,"column":0},"end":{"row":28,"column":3},"action":"remove","lines":["prod/sonar:Project","phases:","    install:","        runtime-versions:","            java: corretto11","    pre_build:","        commands:","            - apt-get update","   "],"id":95},{"start":{"row":19,"column":0},"end":{"row":20,"column":0},"action":"remove","lines":["",""]},{"start":{"row":18,"column":0},"end":{"row":19,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":17,"column":12},"end":{"row":18,"column":0},"action":"remove","lines":["",""],"id":96}],[{"start":{"row":17,"column":12},"end":{"row":18,"column":0},"action":"insert","lines":["",""],"id":97},{"start":{"row":18,"column":0},"end":{"row":18,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":18,"column":2},"end":{"row":18,"column":4},"action":"remove","lines":["  "],"id":98},{"start":{"row":18,"column":0},"end":{"row":18,"column":2},"action":"remove","lines":["  "]},{"start":{"row":17,"column":12},"end":{"row":18,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":90.59999961853029,"scrollleft":0,"selection":{"start":{"row":8,"column":12},"end":{"row":8,"column":12},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1743864614836}