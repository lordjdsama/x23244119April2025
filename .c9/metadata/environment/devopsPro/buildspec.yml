{"filter":false,"title":"buildspec.yml","tooltip":"/devopsPro/buildspec.yml","undoManager":{"mark":9,"position":9,"stack":[[{"start":{"row":7,"column":5},"end":{"row":10,"column":39},"action":"remove","lines":[" - echo \"Upgrading pip...\"","      - pip install --upgrade pip","      - echo \"Installing dependencies...\"","      - pip install -r requirements.txt"],"id":2},{"start":{"row":7,"column":4},"end":{"row":7,"column":5},"action":"remove","lines":[" "]},{"start":{"row":7,"column":2},"end":{"row":7,"column":4},"action":"remove","lines":["  "]},{"start":{"row":7,"column":0},"end":{"row":7,"column":2},"action":"remove","lines":["  "]},{"start":{"row":6,"column":13},"end":{"row":7,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":11,"column":24},"end":{"row":12,"column":0},"action":"insert","lines":["",""],"id":3},{"start":{"row":12,"column":0},"end":{"row":12,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":19,"column":0},"end":{"row":19,"column":1},"action":"insert","lines":["e"],"id":9},{"start":{"row":19,"column":1},"end":{"row":19,"column":2},"action":"insert","lines":["n"]},{"start":{"row":19,"column":2},"end":{"row":19,"column":3},"action":"insert","lines":["v"]}],[{"start":{"row":19,"column":3},"end":{"row":19,"column":4},"action":"insert","lines":[":"],"id":10}],[{"start":{"row":19,"column":4},"end":{"row":20,"column":0},"action":"insert","lines":["",""],"id":11}],[{"start":{"row":20,"column":0},"end":{"row":24,"column":40},"action":"insert","lines":["sonar-scanner \\","  -Dsonar.organization=x23244119 \\","  -Dsonar.projectKey=lordjdsama_x23244119April2025 \\","  -Dsonar.sources=. \\","  -Dsonar.host.url=https://sonarcloud.io"],"id":12}],[{"start":{"row":24,"column":40},"end":{"row":25,"column":0},"action":"insert","lines":["",""],"id":13},{"start":{"row":25,"column":0},"end":{"row":25,"column":2},"action":"insert","lines":["  "]},{"start":{"row":25,"column":2},"end":{"row":26,"column":0},"action":"insert","lines":["",""]},{"start":{"row":26,"column":0},"end":{"row":26,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":26,"column":0},"end":{"row":26,"column":2},"action":"remove","lines":["  "],"id":14}],[{"start":{"row":26,"column":0},"end":{"row":53,"column":118},"action":"insert","lines":["env:","    secrets-manager:","        LOGIN: prod/sonar:sonartoken","        HOST: prod/sonar:HOST","        Organization: prod/sonar:Organization","        Project: prod/sonar:Project","phases:","    install:","        runtime-versions:","            java: corretto11","    pre_build:","        commands:","            - apt-get update","            - apt-get install -y jq","            - wget http://www-eu.apache.org/dist/maven/maven-3/3.5.4/binaries/apache-maven-3.5.4-bin.tar.gz","            - tar xzf apache-maven-3.5.4-bin.tar.gz","            - ln -s apache-maven-3.5.4 maven","            - wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.3.0.1492-linux.zip","            - unzip ./sonar-scanner-cli-3.3.0.1492-linux.zip","            - export PATH=$PATH:/sonar-scanner-3.3.0.1492-linux/bin/","    build:","        commands:","            - mvn test     ","            - mvn sonar:sonar -Dsonar.login=$LOGIN -Dsonar.host.url=$HOST -Dsonar.projectKey=$Project -Dsonar.organization=$Organization","            - sleep 5   ","            - curl https://sonarcloud.io/api/qualitygates/project_status?projectKey=$Project >result.json","            - cat result.json","            - if [ $(jq -r '.projectStatus.status' result.json) = ERROR ] ; then $CODEBUILD_BUILD_SUCCEEDING -eq 0 ;fi"],"id":15}],[{"start":{"row":19,"column":0},"end":{"row":19,"column":2},"action":"insert","lines":["# "],"id":16},{"start":{"row":20,"column":0},"end":{"row":20,"column":2},"action":"insert","lines":["# "]},{"start":{"row":21,"column":0},"end":{"row":21,"column":2},"action":"insert","lines":["# "]},{"start":{"row":22,"column":0},"end":{"row":22,"column":2},"action":"insert","lines":["# "]},{"start":{"row":23,"column":0},"end":{"row":23,"column":2},"action":"insert","lines":["# "]},{"start":{"row":24,"column":0},"end":{"row":24,"column":2},"action":"insert","lines":["# "]}]]},"ace":{"folds":[],"scrolltop":372.79999999999905,"scrollleft":0,"selection":{"start":{"row":18,"column":0},"end":{"row":24,"column":42},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":27,"state":"start","mode":"ace/mode/yaml"}},"timestamp":1743271370500,"hash":"d11b85a4c0b4fa7c8b45d0b2c200e6c81c33ee25"}